<!DOCTYPE html>
<html>

<head>
  <title>
    DAB Rooms
  </title>
  <link rel="stylesheet" href="/stylesheets/base.css">
  <link href="/stylesheets/rooms.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body>

  <%-include('./partials/navbar.ejs', {userId: userId, username: username})%>
    <div class="container">
      <h2 class="p-3 text-center">Choose a room</h2>
      <hr>
      <div class="list-group">
        <% rooms.forEach(function(room) { %>
          <div class="row px-3 py-1 w-100">
            <span class="col py-1 bg-info me-1 rounded-1">Room for <%=room.Capacity%> people<span class="right">Daily
                  cost: <%=room.PricePerDay%></span></span>
            <% if(userId !== 0) { %>
            <button onclick="makeReservation('<%=userId%>','<%=room.id%>','http\:\/\/localhost:3000\/rooms\/reservation' )" class="col btn btn-secondary"> Rent a room</button>
              <% }; %>

              <% if(isAdmin) { %>
                <button onclick="deleteRoom('http\:\/\/localhost:3000\/rooms\/', '<%=room.id %>' )" class="col btn btn-danger">Delete</button>
                <% } %>
          </div>
          <% }); %>

          <% if(isAdmin) { %>
            <button onclick="addRoom('http\:\/\/localhost:3000\/rooms\/', '<%=hotelId%>')" class="col btn btn-danger"> Create a room</button>
          <% } %>
      </div>
    </div>
    <hr>
    <%-include('./partials/footer.ejs')%>
      <script src="../javascripts/makeReservation.js"></script>
      <script src="/javascripts/addRoom.js"></script>
      <script src="/javascripts/deleteRoom.js"></script>

</body>

</html>